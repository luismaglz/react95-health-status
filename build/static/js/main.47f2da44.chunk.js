(this["webpackJsonpreact-starter"]=this["webpackJsonpreact-starter"]||[]).push([[0],{76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var a=n(82),r=(n(46),n(0)),s=n.n(r),c=n(24),o=n.n(c),u=n(15),i=n(27),h=Object(i.b)({name:"state.health",initialState:{environmentHealth:[]},reducers:{SetHealth:function(t,e){var n=t.environmentHealth.find((function(t){return t.key===e.payload.key}));n?(n.health=e.payload.health,n.status="SUCCESS"):t.environmentHealth.push({key:e.payload.key,health:e.payload.health,status:"SUCCESS"})},SetHealthStatus:function(t,e){var n=t.environmentHealth.find((function(t){return t.key===e.payload.key}));n?n.status=e.payload.status:t.environmentHealth.push({key:e.payload.key,health:null,status:e.payload.status})}}}),l=h.actions,p=l.SetHealth,v=l.SetHealthStatus,b=h.reducer,j=Object(i.a)({reducer:{health:b}}),d=n(81),f=n(84),y=n(83),O=n(45),x=n(21),k=n(14),m=n(1),w=n.n(m),S=n(10),H=n(2),g=n(3),C=n(4),R=n(20),q=n.n(R),E=function(){function t(e){Object(g.a)(this,t),this.dispatch=e,this.requestConfig={timeout:25e3}}return Object(C.a)(t,[{key:"get",value:function(){var t=Object(H.a)(w.a.mark((function t(e,n){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.get(e,Object(S.a)({headers:n},this.requestConfig));case 2:return a=t.sent,t.abrupt("return",this.mapToRestHttpResponse(a));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"put",value:function(){var t=Object(H.a)(w.a.mark((function t(e,n,a){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.post(e,{headers:a,body:n},this.requestConfig);case 2:return r=t.sent,t.abrupt("return",this.mapToRestHttpResponse(r));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"patch",value:function(){var t=Object(H.a)(w.a.mark((function t(e,n,a){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.patch(e,{headers:a,body:n},this.requestConfig);case 2:return r=t.sent,t.abrupt("return",this.mapToRestHttpResponse(r));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=Object(H.a)(w.a.mark((function t(e,n,a){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.delete(e,Object(S.a)({headers:a},this.requestConfig));case 2:return r=t.sent,t.abrupt("return",this.mapToRestHttpResponse(r));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"post",value:function(){var t=Object(H.a)(w.a.mark((function t(e,n,a){var r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q.a.post(e,{headers:a,body:n},this.requestConfig);case 2:return r=t.sent,t.abrupt("return",this.mapToRestHttpResponse(r));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"mapToRestHttpResponse",value:function(t){return{headers:{},status:t.status,body:t.data}}},{key:"slideTokenExpiration",value:function(){}}]),t}(),T=function(){function t(){Object(g.a)(this,t)}return Object(C.a)(t,[{key:"manipulateRequest",value:function(t,e,n,a){return{headers:{"content-type":"application/json","Access-Control-Allow-Origin":"*","Ocp-Apim-Subscription-Key":"bba82a487de542c2b6a886abacce2742"}}}}]),t}(),_=n(7),I=Object(r.createContext)({}),A=function(t){var e=t.children,n=Object(u.b)(),a=Object(r.useState)(new E(n)),s=Object(x.a)(a,1)[0],c=Object(r.useState)(new T),o=Object(x.a)(c,1)[0],i=Object(r.useState)(new k.a("https://proxy.sandbox.navitaire.com",s,o)),h=Object(x.a)(i,1)[0],l=Object(r.useState)(new k.a("https://proxy.sandbox.navitaire.com/nav2",s,o)),p=Object(x.a)(l,1)[0],v=Object(r.useState)({nav1HealthClient:h,nav2HealthClient:p}),b=Object(x.a)(v,1)[0];return Object(_.jsx)(I.Provider,{value:b,children:e})};function U(t,e){return"".concat(t,"_").concat(e)}var W=n(23),B=function(t){switch(t.healthStatus){case k.b.Ok:return Object(_.jsx)(W.a,{});case k.b.Error:return Object(_.jsx)(W.d,{});case k.b.Unknown:return Object(_.jsx)(W.b,{});case k.b.Warning:return Object(_.jsx)(W.c,{})}},J=function(t){return Object(_.jsxs)(d.a,{width:"200",height:"50",className:"health-info-display-status",children:[t.healthInfo.component,Object(_.jsx)(B,{healthStatus:t.healthInfo.status||0})]})},N=n(16),D=function(t){return t.health},F=function(t){var e,n,a,s,c=Object(u.c)((a=t.env,s=t.type,Object(N.a)(D,(function(t){return t.environmentHealth.find((function(t){return t.key===U(a,s)}))})))),o=Object(r.useContext)(I),i=Object(u.b)(),h=U(t.env,t.type);var l=null===c||void 0===c||null===(e=c.health)||void 0===e||null===(n=e.nodes)||void 0===n?void 0:n.map((function(t){return Object(_.jsx)(J,{healthInfo:t})}));return Object(_.jsxs)(y.a,{legend:h,children:[Object(_.jsxs)(O.a,{onClick:function(){return function(){var e;if(i(v({key:U(t.env,t.type),status:"LOADING"})),"nav1"===t.env?e=o.nav1HealthClient:"nav2"===t.env&&(e=o.nav2HealthClient),e){var n=null;"api"===t.type?n=e.v1_health_get():"nsk"===t.type&&(n=e.nsk_v1_health_get()),n&&n.then((function(e){var n=e.body;i(p({key:U(t.env,t.type),health:n}))})).catch((function(){i(v({key:U(t.env,t.type),status:"ERROR"}))}))}}()},children:["Fetch ",null===c||void 0===c?void 0:c.status]}),l]})},G=function(){return Object(_.jsxs)(d.a,{width:"500",height:"auto",children:[Object(_.jsx)(f.a,{width:"100%",title:"Environment Health"}),Object(_.jsx)(F,{env:"nav1",type:"api"}),Object(_.jsx)(F,{env:"nav1",type:"nsk"}),Object(_.jsx)(F,{env:"nav2",type:"api"}),Object(_.jsx)(F,{env:"nav2",type:"nsk"})]})};n(76),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(_.jsx)(s.a.StrictMode,{children:Object(_.jsx)(u.a,{store:j,children:Object(_.jsx)(a.a,{children:Object(_.jsx)(A,{children:Object(_.jsx)(G,{})})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[77,1,2]]]);
//# sourceMappingURL=main.47f2da44.chunk.js.map